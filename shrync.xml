<?xml version="1.0"?>
<Container version="2">
  <Name>Shrync</Name>
  <Repository>timmex91/shrync:latest</Repository>
  <Registry>https://hub.docker.com/r/timmex91/shrync</Registry>
  <Network>bridge</Network>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/timmexk/Shrync</Support>
  <Project>https://github.com/timmexk/Shrync</Project>
  <Overview>
Shrync v0.03 — Zelf-gehoste H.265 media converter met automatische GPU-detectie.

EEN IMAGE VOOR IEDEREEN: Dezelfde image werkt op CPU en Nvidia GPU (driver 450+).
De container detecteert automatisch of een GPU beschikbaar is bij elke start.

MEDIAMAPPEN: Stel hieronder Mediamap 1, 2 en 3 in. Gebruik het bijbehorende
containerpad (/media/map1 etc.) als bibliotheekpad in de Shrync webinterface.

GPU: Voeg --runtime=nvidia toe aan Extra Parameters voor Nvidia GPU-gebruik.
Zet GPU_MODE leeg voor automatische detectie (aanbevolen).
  </Overview>
  <Category>MediaApp:Video Tools:</Category>
  <WebUI>http://[IP]:[PORT:8988]/</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/timmexk/Shrync/main/shrync.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/timmexk/Shrync/main/static/icon.png</Icon>
  <ExtraParams></ExtraParams>
  <PostArgs/>
  <CPUset/>
  <DateInstalled/>
  <DonateText/>
  <DonateLink/>
  <Description>Shrync v0.03 — H.265 media converter met automatische Nvidia GPU-detectie. Eén image voor CPU en GPU.</Description>

  <!-- ── Poort ── -->
  <Config Name="WebUI poort"
    Target="8000"
    Default="8988"
    Mode="tcp"
    Description="Poort voor de Shrync webinterface. Standaard 8988."
    Type="Port"
    Display="always"
    Required="true"
    Mask="false">8988</Config>

  <!-- ── Verplichte paden ── -->
  <Config Name="Configuratie map"
    Target="/config"
    Default="/mnt/user/appdata/shrync/config"
    Mode="rw"
    Description="Verplicht. Database en instellingen worden hier opgeslagen."
    Type="Path"
    Display="always"
    Required="true"
    Mask="false">/mnt/user/appdata/shrync/config</Config>

  <!-- ── Mediamappen ── -->
  <Config Name="Mediamap 1"
    Target="/media/map1"
    Default="/mnt/user/NAS/Films"
    Mode="rw"
    Description="Eerste mediamap. Gebruik /media/map1 als bibliotheekpad in de Shrync UI."
    Type="Path"
    Display="always"
    Required="false"
    Mask="false">/mnt/user/NAS/Films</Config>

  <Config Name="Mediamap 2"
    Target="/media/map2"
    Default=""
    Mode="rw"
    Description="Tweede mediamap (optioneel). Gebruik /media/map2 als bibliotheekpad in de Shrync UI."
    Type="Path"
    Display="always"
    Required="false"
    Mask="false"></Config>

  <Config Name="Mediamap 3"
    Target="/media/map3"
    Default=""
    Mode="rw"
    Description="Derde mediamap (optioneel). Gebruik /media/map3 als bibliotheekpad in de Shrync UI."
    Type="Path"
    Display="always"
    Required="false"
    Mask="false"></Config>

  <!-- ── Cache ── -->
  <Config Name="Cache map (optioneel)"
    Target="/cache"
    Default=""
    Mode="rw"
    Description="Optioneel. Pad voor tijdelijk bestand tijdens conversie. Leeg laten = naast het bronbestand. Als je dit instelt: zet CACHE_DIR ook op /cache hieronder."
    Type="Path"
    Display="always"
    Required="false"
    Mask="false"></Config>

  <!-- ── Omgevingsvariabelen ── -->
  <Config Name="GPU modus"
    Target="GPU_MODE"
    Default=""
    Mode=""
    Description="Leeg laten = automatische detectie (aanbevolen). De container detecteert zelf of een Nvidia GPU beschikbaar is. Vul 'cpu' in om GPU-gebruik te forceren uitschakelen."
    Type="Variable"
    Display="always"
    Required="false"
    Mask="false"></Config>

  <Config Name="Cache pad"
    Target="CACHE_DIR"
    Default=""
    Mode=""
    Description="Leeg laten = tijdelijk bestand naast bronbestand. Vul /cache in als je de Cache map hierboven hebt ingesteld."
    Type="Variable"
    Display="always"
    Required="false"
    Mask="false"></Config>

  <!-- ── Nvidia GPU (alleen invullen bij GPU gebruik) ── -->
  <Config Name="Nvidia apparaten"
    Target="NVIDIA_VISIBLE_DEVICES"
    Default="all"
    Mode=""
    Description="Alleen nodig bij Nvidia GPU. Standaard 'all'. Vereist ook --runtime=nvidia in Extra Parameters."
    Type="Variable"
    Display="advanced"
    Required="false"
    Mask="false"></Config>

  <Config Name="Nvidia capabilities"
    Target="NVIDIA_DRIVER_CAPABILITIES"
    Default="video,compute,utility"
    Mode=""
    Description="Alleen nodig bij Nvidia GPU. Standaard: video,compute,utility"
    Type="Variable"
    Display="advanced"
    Required="false"
    Mask="false"></Config>

</Container>
